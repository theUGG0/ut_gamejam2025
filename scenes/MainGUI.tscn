[gd_scene load_steps=3 format=3 uid="uid://b00upu3gx4bw2"]

[ext_resource type="FontFile" uid="uid://bpj3qe63c5ryv" path="res://asstes/SuperAdorable-MAvyp.ttf" id="1_ac01h"]

[sub_resource type="GDScript" id="GDScript_vktbf"]
script/source = "extends Control

var toy_textures = {
	\"whack_a_mole\": preload(\"res://asstes/minon.png\")
}

func _ready():
	update_score_counter()
	display_toys()
	
func update_score_counter():
	$MarginContainer/MainGUIHContainer/ScoreContainer/ScoreLabel.text = \"Total score: %d\" % GameManager.get_total_score()

func display_toys():
	for value in GameManager.toys:
		if value not in toy_textures:
			print(\"Toy texture not defined for %d!\" % value)
			pass
		
		var texrec = TextureRect.new()
		texrec.texture = toy_textures[value]
		texrec.expand_mode = TextureRect.EXPAND_FIT_WIDTH
		texrec.stretch_mode = TextureRect.STRETCH_KEEP_ASPECT_CENTERED
		texrec.set_meta(\"toy_id\", value)
		$MarginContainer/MainGUIHContainer/ToyContainer.add_child(texrec)
				
"

[node name="MainGui" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_bottom = -902.0
grow_horizontal = 2
grow_vertical = 2
script = SubResource("GDScript_vktbf")

[node name="MarginContainer" type="MarginContainer" parent="."]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -481.0
offset_right = 481.0
offset_bottom = 89.0
grow_horizontal = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 20
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 20

[node name="MainGUIHContainer" type="HBoxContainer" parent="MarginContainer"]
layout_mode = 2

[node name="ScoreContainer" type="HBoxContainer" parent="MarginContainer/MainGUIHContainer"]
custom_minimum_size = Vector2(26.34, 0)
layout_mode = 2

[node name="ScoreLabel" type="Label" parent="MarginContainer/MainGUIHContainer/ScoreContainer"]
layout_mode = 2
theme_override_fonts/font = ExtResource("1_ac01h")
theme_override_font_sizes/font_size = 32

[node name="ToyContainer" type="HBoxContainer" parent="MarginContainer/MainGUIHContainer"]
custom_minimum_size = Vector2(26.765, 0)
layout_mode = 2
